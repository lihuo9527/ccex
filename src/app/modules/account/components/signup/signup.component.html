<div class="common-content-container">
  <div style="width: 100%; min-width: 900px;">
    <ng-container *ngIf="!isOver">
      <div id="main-wrapper" class="has-shadow">
        <h2>{{ 'COMMON.SIGNUP' | translate }}</h2>
        <form nz-form [formGroup]="validateForm" (ngSubmit)="submitForm()">
          <nz-form-item>
            <div>
              <label for="email">{{ 'USER.EMAIL' | translate }}</label>
              <nz-divider nzType="vertical"></nz-divider>
              <a routerLink="/account/signup_phone">{{ 'USER.USE_PHONE' | translate }}</a>
            </div>
            <nz-form-control>
              <input nz-input formControlName="email" id="email">
              <nz-form-explain *ngIf="validateForm.get('email').dirty && validateForm.get('email').errors">
                {{ 'USER.EMAIL_INVALID' | translate }}</nz-form-explain>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <div>
              <label for="password">{{ 'USER.PASSWORD' | translate }}</label>
            </div>
            <nz-form-control>
              <input nz-input type="password" id="password" formControlName="password"
                (ngModelChange)="updateConfirmValidator()">
              <nz-form-explain *ngIf="validateForm.get('password').dirty && validateForm.get('password').errors">
                {{ 'USER.PASSWORD_INVALID' | translate }}</nz-form-explain>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <div>
              <label for="checkPassword">{{ 'USER.COMFIRM_PASSWORD' | translate }}</label>
            </div>
            <nz-form-control>
              <input nz-input type="password" formControlName="checkPassword" id="checkPassword">
              <nz-form-explain
                *ngIf="validateForm.get('checkPassword').dirty && validateForm.get('checkPassword').errors">
                <ng-container *ngIf="validateForm.get('checkPassword').hasError('required')">
                  {{ 'USER.CONFIRM_PASSWORD_PLZ' | translate }}
                </ng-container>
                <ng-container *ngIf="validateForm.get('checkPassword').hasError('confirm')">
                  {{ 'USER.CONFIRM_PASSWORD_INVALID' | translate }}
                </ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <div>
              <label for="referralId">{{ 'INVITE.REFERRAL_ID' | translate }}</label>
            </div>
            <nz-form-control>
              <input nz-input type="text" formControlName="referralId" id="referralId"
                placeholder="{{'USER.CAN_BE_NULL' | translate}}">
              <nz-form-explain *ngIf="validateForm.get('referralId').errors">
                <ng-container>
                  {{ 'USER.REFERRAL_ID_ERROR' | translate }}
                </ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-control>
              <label nz-checkbox formControlName="agree">
                <span>{{ 'USER.AGREED' | translate }}</span>
              </label>
              <a href="https://support.glenbit.com/article/7"
                target="_blank">{{ 'FOOTER.TERMS_OF_SERVICE' | translate }}</a>
              <nz-form-explain *ngIf="validateForm.get('checkPassword').dirty && validateForm.get('agree').errors">
                {{ 'USER.REQUIRED' | translate }}</nz-form-explain>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item style="margin-top: 30px">
            <nz-form-control>
              <button nz-button nzType="primary" [nzLoading]="isLoading()">{{ 'COMMON.SIGNUP' | translate }}</button>
            </nz-form-control>
          </nz-form-item>
        </form>
      </div>
    </ng-container>

    <ng-container *ngIf="isOver">
      <div id="result-box">
        <div id="signup-result">
          <div style="margin-bottom: 10px;padding-top: 70px;">
            <i nz-icon type="check-circle" theme="outline" style="font-size:26px;color:#6de831;padding-right:10px;"></i>
            <span style="font-size:30px;">{{ 'USER.SIGNUP_SUCCESS' | translate }}</span>
            <p>{{ 'USER.ACTIVATION_EMAIL_SENT' | translate }}</p>
            <span style="color:#F0D22E">{{email}}</span>
          </div>
          <br>
        </div>
      </div>
    </ng-container>
  </div>
</div>